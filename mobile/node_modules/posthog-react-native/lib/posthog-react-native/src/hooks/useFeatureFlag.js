"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.useFeatureFlag=useFeatureFlag;exports.useFeatureFlagWithPayload=useFeatureFlagWithPayload;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=require("react");var _usePostHog=require("./usePostHog");function useFeatureFlag(flag,client){var contextClient=(0,_usePostHog.usePostHog)();var posthog=client||contextClient;var _useState=(0,_react.useState)(posthog.getFeatureFlag(flag)),_useState2=(0,_slicedToArray2["default"])(_useState,2),featureFlag=_useState2[0],setFeatureFlag=_useState2[1];(0,_react.useEffect)(function(){setFeatureFlag(posthog.getFeatureFlag(flag));return posthog.onFeatureFlags(function(){setFeatureFlag(posthog.getFeatureFlag(flag));});},[posthog,flag]);return featureFlag;}function useFeatureFlagWithPayload(flag,client){var contextClient=(0,_usePostHog.usePostHog)();var posthog=client||contextClient;var _useState3=(0,_react.useState)([undefined,undefined]),_useState4=(0,_slicedToArray2["default"])(_useState3,2),featureFlag=_useState4[0],setFeatureFlag=_useState4[1];(0,_react.useEffect)(function(){setFeatureFlag([posthog.getFeatureFlag(flag),posthog.getFeatureFlagPayload(flag)]);return posthog.onFeatureFlags(function(){setFeatureFlag([posthog.getFeatureFlag(flag),posthog.getFeatureFlagPayload(flag)]);});},[posthog,flag]);return featureFlag;}